sp {mario*elaborate*mario
   (state <s> ^io.input-link.mario <mario>
              ^name mario-soar)
-->
   (<s> ^mario <mario>)
}

sp {mario*isclear*dist
   (state <s> ^name mario-soar
              ^mario <mario>)
   (<mario> ^yi <marioyi>)
-->
   (<mario> ^check-tiles-till (+ <marioyi> 4))
}

sp {mario*isclear
   (state <s> ^name mario-soar
              ^io.input-link <il>
              ^xtile <xt>
              ^mario <mario>)
   (<xt> ^<pos> <xpos>)
   (<mario> ^check-tiles-till <my>
            ^yi <marioyi>)
   (<xpos> ^loc <xtpos>)
   (<il> ^visual-scene.tile-row <row>)
   (<row> ^y <y> {<= <my> > <marioyi>}
          ^tile <t>)
   (<t> ^x <xtpos>
        ^type << |7| |?| |b| >>)
-->
   (<xpos> ^isclear no
           ^isclear yes -)
}