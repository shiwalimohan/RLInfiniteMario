sp {mario*elaborate*pit
   (state <s> ^io.input-link.visual-scene <v>)
   (<v> ^tile-row <row1>
        ^tile-row <row2>)
   (<row1> ^y 0
          ^tile <tile>)
   (<tile> ^x <xloc>
           ^type | |)
   (<row2> ^tile.x <xloc>
           ^tile-type |7|)
-->
   (<s> ^pit-tile <p>)
   (<p> ^xleft (- <xloc> 1)
        ^xright (+ <xloc> 1))
}
sp {mario*elaborate*pit2
   (state <s> ^io.input-link.visual-scene.tile-row <row>)
   (<row> ^y 0
          ^tile <tile>)
   (<tile> ^x <xloc>
           ^type | |)
-->
   (<s> ^pit-tile <p>)
   (<p> ^xleft (- <xloc> 1)
        ^xright (+ <xloc> 1))
}
sp {mario*elaborate*pit3
   (state <s> ^pit-tile <p>
              ^io.input-link.visual-scene <v>)
   (<p> ^xleft <xleft>)
   (<v> ^tile-row <row>)
   (<row> ^y 0
          ^tile <tile>)
   (<tile> ^x <xleft>
           ^type |7|)
-->
   (<s> ^pit <pit>)
   (<pit> ^start (+ <xleft> 1))
}
sp {mario*elaborate*pit4
   (state <s> ^pit-tile <p>
              ^io.input-link.visual-scene <v>
              ^pit <pit>)
   (<p> ^xright <xright>)
   (<v> ^tile-row <row>)
   (<row> ^y 0
          ^tile <tile>)
   (<tile> ^x <xright>
           ^type |7|)
-->
   (<pit> ^end (- <xright> 1))
}   
